<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles.css" />
    <title>Webserv</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }
      .center-text {
        text-align: center;
      }
    </style>
  </head>

  <body>
    <div class="wrapper">
      <div class="flex-col">
        <div class="center-text">
          <h1 id="title">
            Your cookie is:
          </h1>
        </div>
        <script>
            function getCookie(cookieName) {
                const name = cookieName + "=";
                const decodedCookie = decodeURIComponent(document.cookie);
                const cookieArray = decodedCookie.split(';');
                for(let i = 0; i < cookieArray.length; i++) {
                    let cookie = cookieArray[i];
                    while (cookie.charAt(0) === ' ') {
                    cookie = cookie.substring(1);
                    }
                    if (cookie.indexOf(name) === 0) {
                    return cookie.substring(name.length, cookie.length);
                    }
                }
                return "";
                }
            const valeurMonCookie = getCookie("SessionCookie");
            console.log(valeurMonCookie);
            let titleEl = document.getElementById("title");
            if (valeurMonCookie != "") {
              document.body.style.backgroundColor = "#" + valeurMonCookie;
              titleEl.textContent = titleEl.textContent + " " + valeurMonCookie;
            }
            else {
              titleEl.textContent = "You don't have a cookie :(";
            }
        </script>
      </div>
    </div>
  </body>
</html>
